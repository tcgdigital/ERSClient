<div class="row">
    <incident-header-widget [currentIncident]="currentIncident" [currentDepartment]="currentDepartment" (viewIncidentHandler)="onViewIncidentClick(currentIncident.Value)"
        class="col-12 widget-layout-fix">
    </incident-header-widget>
</div>
<!-- KPI Section Starts-->
<div class="row">
    <clock-widget [initiationDateTime]="incidentDate" [currentIncidentId]="currentIncidentId" class="col-12 col-md-4 col-lg-4 col-xl-2 clock-layout widget-layout-fix">
    </clock-widget>

    <peopleOnBoard-widget [initiatedDepartmentId]="currentDepartmentId" [currentIncidentId]="currentIncidentId" class="col-12 col-md-6 col-lg-4 col-xl-3 people-onboard-layout widget-layout-fix">
    </peopleOnBoard-widget>

    <casualty-summary-widget [currentIncidentId]="currentIncidentId" class="col-12 col-md-6 col-lg-4 col-xl-3 casualty-layout widget-layout-fix">
    </casualty-summary-widget>

    <demand-received-summary-widget [initiatedDepartmentId]="currentDepartmentId" [currentIncidentId]="currentIncidentId" class="col-12 col-md-3 col-lg-4 col-xl-2 demand-received-layout widget-layout-fix">
    </demand-received-summary-widget>

    <demand-raised-summary-widget [initiatedDepartmentId]="currentDepartmentId" [currentIncidentId]="currentIncidentId" class="col-6 col-md-3 col-lg-4 col-xl-2 demand-raised-layout widget-layout-fix">
    </demand-raised-summary-widget>

    <checklist-summary-widget [initiatedDepartmentId]="currentDepartmentId" [currentIncidentId]="currentIncidentId" class="col-6 col-md col-md-3 col-lg-4 col-xl-2 checklist-layout widget-layout-fix">
    </checklist-summary-widget>
</div>
<!-- KPI Section Ends-->
<!-- Messaging Section Starts-->
<!--<div class="row">
    <div class="col-lg-12 col-sm-12 col-md-6">
        <archive-report-widget [initiatedDepartmentId]="currentDepartmentId" [currentIncidentId]="currentIncidentId" class="col-12 col-md-4 messaging-widget widget-layout-fix">
        </archive-report-widget>
    </div>
</div>
<div class="row">
    <div class="col-lg-12 col-sm-12 col-md-6">
        <archive-upload-widget [initiatedDepartmentId]="currentDepartmentId" [currentIncidentId]="currentIncidentId" class="col-12 col-md-4 messaging-widget widget-layout-fix">
        </archive-upload-widget>
    </div>
</div>-->
<div class="row">
    <broadcast-widget [initiatedDepartmentId]="currentDepartmentId" [currentIncidentId]="currentIncidentId" class="col-12 col-md-4 messaging-widget widget-layout-fix">
    </broadcast-widget>

    <presidentMessage-widget [initiatedDepartmentId]="currentDepartmentId" [currentIncidentId]="currentIncidentId" class="col-12 col-md-4 messaging-widget widget-layout-fix">
    </presidentMessage-widget>

    <mediaRelease-widget [initiatedDepartmentId]="currentDepartmentId" [currentIncidentId]="currentIncidentId" class="col-12 col-md-4 messaging-widget widget-layout-fix">
    </mediaRelease-widget>
</div>
<!-- Messaging Section Ends-->

<!-- Tab Section Starts-->
<div class="row">
    <div class="col-12 widget-layout-fix">
        <div class="row tab-root-container no-gutters">
            <div class="col-12">
                <div tab-control [tabLinks]="tablinks" class="tab-control"></div>
                <div class="tab-containet">
                    <router-outlet></router-outlet>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Tab Section Ends-->
<div bsModal #childModalViewIncident="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <form [formGroup]="formPopup">
            <div class="modal-content">
                <div class="modal-header">
                    <strong>Incident View</strong>
                    <div *ngIf="IsDrillPopup" class="dilld pull-left">DRILL</div>
                    <i class="fa fa-times pull-right" aria-hidden="true" (click)="hideIncidentView()"></i>

                </div>
                <div class="modal-body card">
                    <div class="card-block">
                        <div class="row">
                            <div class="form-group col-lg-3 col-sm-12 col-md-6">
                                <label for="EmergencyType">EmergencyType:<span class="red">*</span></label>
                                <select id="EmergencyTypeIdPopup" disabled class="form-control" formControlName="EmergencyTypeIdPopup" name="EmergencyTypeIdPopup">
                                    <option value="0" >Select Emergency Type</option>
                                    <option *ngFor="let emergencyType of activeEmergencyTypes" [value]="emergencyType.EmergencyTypeId" >
                                        {{emergencyType.EmergencyTypeName}}
                                    </option>
                            </select>
                            </div>
                            <div class="form-group col-lg-2 col-sm-12 col-md-6">
                                <label for="AffectedStation">Affected Station:<span class="red">*</span></label>
                                <select id="AffectedStationIdPopup" disabled class="form-control" name="AffectedStationIdPopup" formControlName="AffectedStationIdPopup">
                                    <option value="0" >Select Affected Station</option>
                                    <option value="Offset">Offset</option>
                                    <option *ngFor="let affectedStation of affectedStations" [value]="affectedStation.IATA" >
                                        {{affectedStation.AirportName}}
                                    </option>
                            </select>
                            </div>
                            <div *ngIf="isOffSetPopup" class="form-group col-lg-2 col-sm-12 col-md-6">
                                <label for="OffsiteDetails">Offsite Details:<span class="red">*</span></label>
                                <input id="OffsiteDetailsPopup" disabled formControlName="OffsiteDetailsPopup" class="form-control" type="text" name="OffsiteDetailsPopup"
                                    placeholder="Enter Offsite Details" />
                            </div>
                            <div class="form-group col-lg-3 col-sm-12 col-md-6">
                                <label for="EmergencyDate">Date of Crisis:<span class="red">*</span>(UTC)</label>
                                <input id="EmergencyDatePopup" disabled formControlName="EmergencyDatePopup" class="form-control" type="text" name="EmergencyDatePopup"
                                    placeholder="Enter EmergencyDate" />
                            </div>
                            <div class="form-group col-lg-2 col-sm-12 col-md-6">
                                <label for="Severity">Severity:<span class="red">*</span></label>
                                <select id="SeverityPopup" disabled class="form-control" formControlName="SeverityPopup" name="SeverityPopup">
                                    <option value="0" >Select Severity</option>
                                    <option *ngFor="let severity of severities" [value]="severity.Key" >
                                        {{severity.Key}}
                                    </option>
                            </select>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-lg-3 col-sm-12 col-md-6">
                                <div class="form-group">
                                    <label for="EmergencyName">Emergency Name:<span class="red">*</span></label>
                                    <input id="EmergencyNamePopup" disabled formControlName="EmergencyNamePopup" class="form-control" type="text" name="EmergencyNamePopup"
                                        placeholder="Enter Emergency Name" />
                                </div>
                                <!--<div class="form-group">
                                    <label for="AlertMessage">Dashboard Alert Message:<span class="red">*</span></label>
                                    <input id="AlertMessagePopup" disabled formControlName="AlertMessagePopup" class="form-control" type="text" name="AlertMessagePopup"
                                        placeholder="Enter Alert Message" />
                                </div>-->
                            </div>
                            <div class="form-group col-lg-9 col-sm-12 col-md-6">
                                <label for="Description">Note:<span class="red">*</span></label>
                                <textarea id="DescriptionPopup" disabled formControlName="DescriptionPopup" class="form-control textarea" type="text" name="DescriptionPopup"
                                    placeholder="Enter Description"></textarea>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-lg-4 col-sm-12 col-md-6">
                                <div class="form-group">
                                    <label for="WhatHappend">What Happend</label>
                                    <input id="WhatHappendPopup" class="form-control" type="text" name="WhatHappendPopup" formControlName="WhatHappendPopup"
                                        placeholder="What Happend" />
                                    <!--<small *ngIf="!form.controls.AirportInCharge.valid" class="text-danger">
                                Required.
                                </small>-->
                                </div>
                            </div>
                            <div class="form-group col-lg-4 col-sm-12 col-md-6">
                                <div class="form-group">
                                    <label for="WhereHappend">Where Happend</label>
                                    <input id="WhereHappendPopup" class="form-control" type="text" name="WhereHappendPopup" formControlName="WhereHappendPopup"
                                        placeholder="Where Happend" />
                                    <!--<small *ngIf="!form.controls.AirportInCharge.valid" class="text-danger">
                                Required.
                                </small>-->
                                </div>
                            </div>
                            <div class="form-group col-lg-4 col-sm-12 col-md-6">
                                <div class="form-group">
                                    <label for="OtherConfirmationInformation">Other Confirmation Information</label>
                                    <input id="OtherConfirmationInformationPopup" class="form-control" type="text" name="OtherConfirmationInformationPopup" formControlName="OtherConfirmationInformationPopup"
                                        placeholder="Other Confirmation Information" />
                                    <!--<small *ngIf="!form.controls.AirportInCharge.valid" class="text-danger">
                                Required.
                                </small>-->
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-lg-4 col-sm-12 col-md-6">
                                <div class="form-group">
                                    <label for="SourceInformation">Source Information</label>
                                    <input id="SourceInformationPopup" class="form-control" type="text" name="SourceInformationPopup" formControlName="SourceInformationPopup"
                                        placeholder="Source Information" />
                                    <!--<small *ngIf="!form.controls.AirportInCharge.valid" class="text-danger">
                                Required.
                                </small>-->
                                </div>
                            </div>
                            <div class="form-group col-lg-4 col-sm-12 col-md-6">
                                <div class="form-group">
                                    <label for="ReportedByName">ReportedBy Name</label>
                                    <input id="ReportedByNamePopup" class="form-control" type="text" name="ReportedByNamePopup" formControlName="ReportedByNamePopup"
                                        placeholder="ReportedBy Name" />
                                    <!--<small *ngIf="!form.controls.AirportInCharge.valid" class="text-danger">
                                Required.
                                </small>-->
                                </div>
                            </div>
                            <div class="form-group col-lg-4 col-sm-12 col-md-6">
                                <div class="form-group">
                                    <label for="ReportedByAddress">ReportedBy Address</label>
                                    <input id="ReportedByAddressPopup" class="form-control" type="text" name="ReportedByAddressPopup" formControlName="ReportedByAddressPopup"
                                        placeholder="ReportedBy Address" />
                                    <!--<small *ngIf="!form.controls.AirportInCharge.valid" class="text-danger">
                                Required.
                                </small>-->
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-lg-4 col-sm-12 col-md-6">
                                <div class="form-group">
                                    <label for="ContactOfWitness">Contact Of Witness</label>
                                    <input id="ContactOfWitnessPopup" class="form-control" type="text" name="ContactOfWitnessPopup" formControlName="ContactOfWitnessPopup"
                                        placeholder="Contact Of Witness" />
                                    <!--<small *ngIf="!form.controls.AirportInCharge.valid" class="text-danger">
                                Required.
                                </small>-->
                                </div>
                            </div>
                            <div class="form-group col-lg-4 col-sm-12 col-md-6">
                                <div class="form-group">
                                    <label for="SenderOfCrisisInformation">Sender Of Crisis Information</label>
                                    <input id="SenderOfCrisisInformationPopup" class="form-control" type="text" name="SenderOfCrisisInformationPopup" formControlName="SenderOfCrisisInformationPopup"
                                        placeholder="Sender Of Crisis Information" />
                                    <!--<small *ngIf="!form.controls.AirportInCharge.valid" class="text-danger">
                                Required.
                                </small>-->
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-lg-4 col-sm-12 col-md-6">
                                <div class="form-group">
                                    <label for="OrganizationId">Organization<span class="required">*</span></label>
                                    <select id="OrganizationIdPopup" class="form-control" formControlName="OrganizationIdPopup" name="OrganizationIdPopup">
                                    <option value=''>Select Organization</option>
                                    <option *ngFor="let organization of activeOrganizations" [value]="organization.OrganizationId" >
                                        {{organization.OrganizationCode}}
                                    </option>
                            </select>

                                </div>
                            </div>
                            <div class="form-group col-lg-4 col-sm-12 col-md-6">
                                <div class="form-group">
                                    <label for="IncidentsToPickForReplication">Incidents To Pick For Replication</label>
                                    <select id="BorrowedIncidentPopup" class="form-control" formControlName="BorrowedIncidentPopup"
                                        name="BorrowedIncidentPopup">
                                    <option value=''>Select Incident To Pick</option>
                                    <option *ngFor="let incidentToPickForReplication of incidentsToPickForReplication" [value]="incidentToPickForReplication.IncidentId" >
                                        {{incidentToPickForReplication.EmergencyName}}
                                    </option>
                            </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="card" *ngIf="isFlightRelatedPopup">
                                <div class="card-header ">
                                    <strong>Flight Information:</strong>
                                </div>
                                <div class="card-block">
                                    <div class="row">
                                        <div class="form-group col-lg-3 col-sm-12 col-md-6">
                                            <label for="FlightNumber">Flight Number:<span class="red">*</span></label>
                                            <input id="FlightNumberPopup" disabled formControlName="FlightNumberPopup" class="form-control" type="text" name="FlightNumberPopup"
                                                placeholder="FlightNumber" />
                                        </div>
                                        <div class="form-group col-lg-3 col-sm-12 col-md-6">
                                            <label for="Origin">Origin:<span class="red">*</span></label>
                                            <input id="Origin" disabled formControlName="OriginPopup" class="form-control" type="text" name="OriginPopup" placeholder="Origin"
                                            />
                                        </div>
                                        <div class="form-group col-lg-3 col-sm-12 col-md-6">
                                            <label for="Destination">Destination:<span class="red">*</span></label>
                                            <input id="DestinationPopup" disabled formControlName="DestinationPopup" class="form-control" type="text" name="DestinationPopup"
                                                placeholder="Destination" />
                                        </div>
                                        <div class="form-group col-lg-3 col-sm-12 col-md-6">
                                            <label for="Scheduleddeparture(UTC)">Scheduled departure:<span class="red">*</span></label>
                                            <input id="ScheduleddeparturePopup" disabled formControlName="ScheduleddeparturePopup" class="form-control" type="text" name="ScheduleddeparturePopup"
                                                placeholder="Scheduled Departure" />
                                        </div>

                                    </div>
                                    <div class="row">
                                        <div class="form-group col-lg-3 col-sm-12 col-md-6">
                                            <label for="Scheduledarrival(UTC)">Scheduled arrival:<span class="red">*</span></label>
                                            <input id="ScheduledarrivalPopup" disabled formControlName="ScheduledarrivalPopup" class="form-control" type="text" name="ScheduledarrivalPopup"
                                                placeholder="Scheduled Arrival" />
                                        </div>
                                        <div class="form-group col-lg-3 col-sm-12 col-md-6">
                                            <label for="FlightTailNumber">FlightTailNumber:<span class="red">*</span></label>
                                            <input id="FlightTailNumberPopup" disabled formControlName="FlightTailNumberPopup" class="form-control" type="text" name="FlightTailNumberPopup"
                                                placeholder="Flight Tail Number" />
                                        </div>
                                        <div class="form-group col-lg-3 col-sm-12 col-md-6">
                                            <label for="AircraftTypeId">Aircraft Type<span class="required">*</span></label>
                                            <select id="AircraftTypeIdPopup" class="form-control" formControlName="AircraftTypeIdPopup" name="AircraftTypeIdPopup">
                                                <option value=''>Select Aircraft Type</option>
                                                <option *ngFor="let activeAircraftType of activeAircraftTypes" [value]="activeAircraftType.AircraftTypeId" >
                                                    {{activeAircraftType.AircraftTypeCode}}
                                                </option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>